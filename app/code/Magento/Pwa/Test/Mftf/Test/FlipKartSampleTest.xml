<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="FlipKartSampleTest">
        <annotations>
            <stories value="Navigation"/>
            <title value="Store Navigation"/>
            <description value="You should be able to navigate around the Store."/>
            <testCaseId value="#"/>
            <severity value="MINOR"/>
            <group value="pwa"/>
        </annotations>
        
        <before>
            <amOnUrl url="https://www.flipkart.com/" stepKey="amOnStorefront1"/>
            <wait time="5" stepKey="wait1"/>
            <seeInCurrentUrl url="https://www.flipkart.com/" stepKey="seeInCurrentUrl1"/>
        </before>

        <click selector="{{StorefrontHomepage.loginModelX}}" stepKey="closeLoginModel1"/>
        <wait time="5" stepKey="wait1"/>
        <click selector="{{StorefrontHomepage.livPureProduct('Livpure')}}" stepKey="clickOnProductLivePure1"/>
        <wait time="5" stepKey="wait2"/>
        <seeInCurrentUrl url="livpure-annual-maintenance-contract" stepKey="seeInCurrentUrl2"/>

        <click selector="{{StorefrontProductPage.addToCart}}" stepKey="clickAddToCart1"/>
        <wait time="5" stepKey="wait3"/>
        <seeInCurrentUrl url="GoToCart" stepKey="seeInCurrentUrl3"/>

        <click selector="{{StorefrontShoppingCart.increaseQtyButton}}" stepKey="clickOnIncreaseProductQty1"/>
        <wait time="5" stepKey="wait4"/>
        <see userInput="We're sorry! Only 1 units of Livpure Annual Maintenance Contract for each customer." stepKey="seeErrorMessageOnPage1"/>
        <seeInField userInput="1" selector="{{StorefrontShoppingCart.productQtyField}}" stepKey="seeQtyInProductQtyField1"/>

        <click selector="{{StorefrontShoppingCart.placeOrderButton}}" stepKey="clickOnPlageOrderButton1"/>
        <wait time="5" stepKey="wait5"/>

        <fillField selector="{{StorefrontCheckoutPage.emailAddress}}" userInput="{{SampleCustomer.email}}" stepKey="fillCustomerFirstNameField1"/>
        <click selector="{{StorefrontCheckoutPage.continueButton}}" stepKey="clickOnContinueButton1"/>
        <wait time="5" stepKey="wait6"/>

        <fillField selector="{{StorefrontCheckoutPage.phoneNumber}}" userInput="{{SampleCustomer.phoneNumber}}" stepKey="fillCustomerPhoneNumberField1"/>
        <click selector="{{StorefrontCheckoutPage.continueButton}}" stepKey="clickOnContinueButton2"/>
        <wait time="5" stepKey="wait7"/>

        <!-- PLEASE NOTE: This is as far as we can get on the following PWA site. -->
        <!-- Additional fields are only available AFTER you verify the Phone Number that you entered. -->
    </test>
</tests>
